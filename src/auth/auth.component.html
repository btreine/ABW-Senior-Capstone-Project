


<FlexboxLayout class="page">
  <StackLayout class="form" [formGroup]="form">
    <Image class="logo" src="~/app/images/logo.png"></Image>


    <StackLayout class="input-field">
      <Label
        class="label"
        [ngClass]="{ invalid: !emailControlIsValid }"
      ></Label>
      <TextField
        class="input"
        returnKeyType="next"
        keyboardType="email"
        [autocorrect]="false"
        autocapitalizationType="none"
        hint="Email"
        formControlName="email"
        #emailEl
      ></TextField>
      <Label
        class="error-message"
        *ngIf="!emailControlIsValid"
        text="Invalid email."
      ></Label>
    </StackLayout>


    <StackLayout class="input-field">
      <Label
        class="label"
        [ngClass]="{ invalid: !passwordControlIsValid }"
      ></Label>
      <TextField
        class="input"
        returnKeyType="done"
        [autocorrect]="false"
        autocapitalizationType="none"
        [secure]="true"
        hint="Password"
        formControlName="password"
        (returnPress)="onDone()"
        #passwordEl
      ></TextField>
      <Label
        class= "error-message"
        *ngIf="!passwordControlIsValid"
        text="Password must be more than 6 characters."
      ></Label>
    </StackLayout>

    
    <Button
      [text]="isLogin ? 'Log In' : 'Sign Up'"
      class="btn btn-primary btn-rounded-lg"
      (tap)="onSubmit()"
      [isEnabled]="form.valid"
      *ngIf="!isLoading"
    ></Button>
    <Button
      class="btn btn-flat"
      [text]="isLogin ? 'Create Account' : 'Already have an account? Log In.'"
      (tap)="onSwitch()"
    ></Button>
    <ActivityIndicator [busy]="isLoading"></ActivityIndicator>
  </StackLayout>
</FlexboxLayout>
